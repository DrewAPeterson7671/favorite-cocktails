<h2>Search for Cocktails</h2>

<div class='search'>
  <%= form_tag(search_results_page_path, method: :get) do %>
      <%= text_field_tag(:search, params[:search]) %>
    <%= button_tag "Search", :class => 'btn', :name => nil %>
  <% end %> 
</div>  

  <% if @drinks.any? %>
    <table>
      <thead>
        <tr>
          <th>Image</th>
          <th>Name</th>
          <th>Alcohol</th>
          <th>Type</th>
          <th>Glass</th>
        </tr>
      </thead>
        <% @drinks["drinks"].each do |drink| %>
          <tr>
            <th rowspan="3" scope="rowgroup"><%= image_tag drink["strDrinkThumb"], :class => 'drink-thumb' %></th>
            <td><%= drink["strDrink"] %></td>
            <td><%= drink["strAlcoholic"] %></td>
            <td><%= drink["strCategory"] %></td>
            <td><%= drink["strGlass"] %></td>
            <td><%= button_to "Add Favorite", { :controller => "cocktails", :action => "create", :cocktail => {
              :name => drink["strDrink"], 
              :category => drink["strCategory"], 
              :alcoholic => drink["strAlcoholic"], 
              :glass => drink["strGlass"], 
              :instructions => drink["strInstructions"],
              :ingredient1 => drink["strIngredient1"],
              :ingredient2 => drink["strIngredient2"],
              :ingredient3 => drink["strIngredient3"],
              :ingredient4 => drink["strIngredient4"],
              :ingredient5 => drink["strIngredient5"],
              :ingredient6 => drink["strIngredient6"],
              :ingredient7 => drink["strIngredient7"],
              :ingredient8 => drink["strIngredient8"],
              :ingredient9 => drink["strIngredient9"],
              :ingredient10 => drink["strIngredient10"],
              :ingredient11 => drink["strIngredient11"],
              :ingredient12 => drink["strIngredient12"],
              :ingredient13 => drink["strIngredient13"],
              :ingredient14 => drink["strIngredient14"],
              :ingredient15 => drink["strIngredient15"],
              :measure1 => drink["strMeasure1"],
              :measure2 => drink["strMeasure2"],
              :measure3 => drink["strMeasure3"],
              :measure4 => drink["strMeasure4"],
              :measure5 => drink["strMeasure5"],
              :measure6 => drink["strMeasure6"],
              :measure7 => drink["strMeasure7"],
              :measure8 => drink["strMeasure8"],
              :measure9 => drink["strMeasure9"],
              :measure10 => drink["strMeasure10"],
              :measure11 => drink["strMeasure11"],
              :measure12 => drink["strMeasure12"],
              :measure13 => drink["strMeasure13"],
              :measure14 => drink["strMeasure14"],
              :measure15 => drink["strMeasure15"],
              :api_id_drink => drink["idDrink"], 
              :api_image_url => drink["strDrinkThumb"] }
            }, {:method => :post} %></td>
          </tr>
          <tr>
            <td colspan="4" scope="colgroup" ><%= drink["strInstructions"] %> </td>
          </tr>
          <% i = 1 %>
          <% while !drink["strIngredient" + i.to_s].nil? do %>
            <tr>
              <% if i > 1 %>
                <td></td>
              <% end %>
              <td><%= drink["strIngredient" + i.to_s] %> </td>
              <td><%= drink["strMeasure" + i.to_s] %> </td>
            </tr>
            <% i = i + 1 %>
          <% end %>
        <% end %>
      <tbody>

      </tbody>
    </table>
  <% end %>

<br>
    <%= link_to 'Back to Favorites', root_path %>





